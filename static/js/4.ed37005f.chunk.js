(window["webpackJsonpreact-kabzda-1"]=window["webpackJsonpreact-kabzda-1"]||[]).push([[4],{328:function(e,r,t){e.exports={page_pagination:"Users_page_pagination__3IwZV",page_navigation:"Users_page_navigation__1pmDK",lastPage:"Users_lastPage__25KYf",page:"Users_page__2FYGx",next_page:"Users_next_page__MTInT",previos_page:"Users_previos_page__30jrr",active:"Users_active__3fqMs",input:"Users_input__ld6x6"}},329:function(e,r,t){e.exports={user_wrapper:"User_user_wrapper__3QGs8",left_column:"User_left_column__QudzM",btn:"User_btn__3DNNw",img:"User_img__3NZYd",right_column:"User_right_column__1M6Tk",row:"User_row__kM7_6"}},330:function(e,r,t){e.exports={search_wrapper:"Search_search_wrapper__3rVv6"}},331:function(e,r,t){e.exports={page_pagination:"Paginator_page_pagination__3PTVu",page_navigation:"Paginator_page_navigation__1PTT7",lastPage:"Paginator_lastPage__2p6Rq",page:"Paginator_page__1qIV9",next_page:"Paginator_next_page__1X7Bw",previos_page:"Paginator_previos_page__XXTox",active:"Paginator_active__3N7Z5",input:"Paginator_input__15nfs"}},339:function(e,r,t){"use strict";t.r(r);var a=t(53),n=t(54),s=t(57),o=t(55),u=t(58),i=t(0),l=t.n(i),c=t(13),g=t(67),p=t(14),P=t(328),f=t.n(P),d=t(16),_=t(35),m=t.n(_),h=t(329),v=t.n(h),w=function(e){Object(i.useEffect)((function(){e.frends.some((function(r){return r.id===e.id}))&&e.toFriends(e.id)}),[]);return l.a.createElement("div",{className:v.a.user_wrapper},l.a.createElement("div",{className:v.a.left_column},l.a.createElement(d.b,{to:e.isAuth?"/profile/"+e.id:"/login"},l.a.createElement("img",{className:v.a.img,src:null!=e.smallPhotoSrc?e.smallPhotoSrc:e.urlAIGeneratedImage?e.urlAIGeneratedImage:m.a,alt:"avatar"})),e.followed?l.a.createElement("button",{disabled:e.followInProgress.some((function(r){return r===e.id})),onClick:function(){e.unFollow(e.id)},className:v.a.btn}," \u041e\u0442\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f "):l.a.createElement("button",{disabled:e.followInProgress.some((function(r){return r===e.id})),onClick:function(){e.follow(e.id)},className:v.a.btn},"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"),e.isFrend?l.a.createElement("button",{onClick:function(){if(e.frends.some((function(r){return r.id===e.id}))){var r=e.frends.filter((function(r){return r.id===e.id}));e.deleteFromFrends(r[0]),e.fromFriends(e.id);var t=e.frends.filter((function(r){return r.id!==e.id}));1!==e.frends.length?localStorage.setItem("frends",JSON.stringify(t)):localStorage.setItem("frends",JSON.stringify(""))}else console.log("\u043d\u0435\u0442 \u0442\u0430\u043a\u043e\u0433\u043e")},className:v.a.btn},"\u0423\u0431\u0440\u0430\u0442\u044c \u0438\u0437 \u0434\u0440\u0443\u0437\u0435\u0439 "):l.a.createElement("button",{onClick:function(){e.frends.every((function(r){return r.id!==e.id}))?(e.toFriends(e.id),e.addToFrends(e.id)):console.log("\u0443\u0436\u0435 \u0432 \u0434\u0440\u0443\u0437\u044c\u044f\u0445")},className:v.a.btn},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f ")),l.a.createElement("div",{className:v.a.right_column},l.a.createElement("div",{className:v.a.row},l.a.createElement(d.b,{to:e.isAuth?"/profile/"+e.id:"/login"},l.a.createElement("h4",null,e.fullName)),l.a.createElement("p",null,"\u041a\u0430\u043a\u0430\u044f \u0442\u043e \u0441\u0442\u0440\u0430\u043d\u0430")),l.a.createElement("div",{className:v.a.row},l.a.createElement("p",null,e.status),l.a.createElement("p",null,"\u041a\u0430\u043a\u043e\u0439 \u0442\u043e \u0433\u043e\u0440\u043e\u0434"))))},C=t(330),U=t.n(C),F=function(e){return l.a.createElement("div",null,l.a.createElement("input",{onChange:function(r){var t=r.target.value;e.searchUsers(t),e.getUsers(e.currentPage,e.usersPerPageCount,t)},type:"text",value:e.searchUsersText,placeholder:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0437\u0435\u0439",className:U.a.search_wrapper}))},E=t(331),b=t.n(E),N=function(e){for(var r=[],t=e.currentPage,a=e.currentPage;a<t+5;a++)r.push(a);return l.a.createElement("div",{className:b.a.page_pagination},l.a.createElement("span",{onClick:e.setFirstPage,className:b.a.page_navigation},"\u041f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),l.a.createElement("span",{onClick:e.setPreviosPage,className:b.a.previos_page},"\xab"),r.map((function(r){return Math.ceil(e.totalUsersCount/e.usersPerPageCount)-r>-1?l.a.createElement("span",{onClick:function(){e.changeActivePage(r)},className:e.currentPage===r?"".concat(b.a.page," ").concat(b.a.active):"".concat(b.a.page),key:r},r):null})),l.a.createElement("span",{onClick:e.setNextPage,className:b.a.next_page},"\xbb"),l.a.createElement("span",{onClick:e.lastPage,className:"".concat(b.a.page_navigation," ").concat(b.a.lastPage)},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"),l.a.createElement("span",null,"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:",l.a.createElement("input",{className:b.a.input,type:"number",value:e.usersPerPageCount,onChange:e.changeUserPerPageCount})))},x=function(e){for(var r=[],t=e.currentPage,a=e.currentPage;a<t+5;a++)r.push(a);var n=function(r){var t=e.users.filter((function(e){return e.id===r}));e.addToFrends(t)};return l.a.createElement("div",null,l.a.createElement("div",{className:f.a.search_wrapper},l.a.createElement(F,{getUsers:e.getUsers,searchUsers:e.searchUsers,currentPage:e.currentPage,usersPerPageCount:e.usersPerPageCount})),l.a.createElement(N,{currentPage:e.currentPage,setFirstPage:e.setFirstPage,setPreviosPage:e.setPreviosPage,setNextPage:e.setNextPage,lastPage:e.toLastPage,totalUsersCount:e.totalUsersCount,usersPerPageCount:e.usersPerPageCount,changeUserPerPageCount:e.changeUserPerPageCount,changeActivePage:e.changeActivePage}),l.a.createElement("div",{className:f.a.users_wrapper},e.users[0]&&e.users.map((function(r){return l.a.createElement(w,{key:r.id,id:r.id,fullName:r.name,followed:r.followed,smallPhotoSrc:r.photos.small,status:r.status,isFrend:r.isFrend,isAuth:e.isAuth,follow:e.follow,unFollow:e.unFollow,toFriends:e.toFriends,fromFriends:e.fromFriends,addToFrends:n,deleteFromFrends:e.deleteFromFrends,toggleFollowInProgress:e.toggleFollowInProgress,followInProgress:e.followInProgress,urlAIGeneratedImage:e.urlAIGeneratedImage,frends:e.frends})}))))},y=t(56),I=t(8),A=t(34);function k(e,r){return e===r}function j(e,r,t){if(null===r||null===t||r.length!==t.length)return!1;for(var a=r.length,n=0;n<a;n++)if(!e(r[n],t[n]))return!1;return!0}function O(e){var r=Array.isArray(e[0])?e[0]:e;if(!r.every((function(e){return"function"===typeof e}))){var t=r.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return r}var T=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),a=1;a<r;a++)t[a-1]=arguments[a];return function(){for(var r=arguments.length,a=Array(r),n=0;n<r;n++)a[n]=arguments[n];var s=0,o=a.pop(),u=O(a),i=e.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(t)),l=e((function(){for(var e=[],r=u.length,t=0;t<r;t++)e.push(u[t].apply(null,arguments));return i.apply(null,e)}));return l.resultFunc=o,l.dependencies=u,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}((function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k,t=null,a=null;return function(){return j(r,t,arguments)||(a=e.apply(null,arguments)),t=arguments,a}}));var L=function(e){return e.usersPage.searchUsersText},M=T(L,(function(e){return e.usersPage.users}),(function(e,r){return r?r.filter((function(r){return"".concat(r.name).toLowerCase().includes(e.toLowerCase())})):null})),S=function(e){return e.usersPage.currentPage},G=function(e){return e.usersPage.usersPerPageCount},J=function(e){return e.usersPage.totalUsersCount},V=function(e){return e.usersPage.isLoading},q=function(e){return e.usersPage.followInProgress},z=t(26),D=t(135),X=function(e){function r(){var e,t;Object(a.a)(this,r);for(var n=arguments.length,u=new Array(n),i=0;i<n;i++)u[i]=arguments[i];return(t=Object(s.a)(this,(e=Object(o.a)(r)).call.apply(e,[this].concat(u)))).changeUserPerPageCount=function(e){var r=+e.target.value;r>100&&(r=100),t.props.changeUsersPerPage(r),t.props.getUsers(t.props.currentPage,r,"")},t.toLastPage=function(){var e=Math.ceil(t.props.totalUsersCount/t.props.usersPerPageCount);t.props.lastPage(e),t.props.changeCurrentPage(e),t.props.getUsers(e,t.props.usersPerPageCount,"")},t.setFirstPage=function(){t.props.firstPage(),t.props.getUsers(1,t.props.usersPerPageCount,"")},t.setPreviosPage=function(){t.props.currentPage>1&&(t.props.previosPage(),t.props.getUsers(t.props.currentPage-1,t.props.usersPerPageCount,""))},t.setNextPage=function(){var e=Math.ceil(t.props.totalUsersCount/t.props.usersPerPageCount);t.props.currentPage<e&&(t.props.nextPage(),t.props.getUsers(t.props.currentPage+1,t.props.usersPerPageCount,""))},t.changeActivePage=function(e){t.props.changeCurrentPage(e),t.props.getUsers(e,t.props.usersPerPageCount,"")},t}return Object(u.a)(r,e),Object(n.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.usersPerPageCount,"")}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null," ",this.props.isLoading?l.a.createElement(y.a,null):null,l.a.createElement(x,Object.assign({setFirstPage:this.setFirstPage,setPreviosPage:this.setPreviosPage,setNextPage:this.setNextPage,toLastPage:this.toLastPage,changeUserPerPageCount:this.changeUserPerPageCount,changeActivePage:this.changeActivePage},this.props)))}}]),r}(l.a.Component);r.default=Object(I.d)(Object(p.b)((function(e){return{users:M(e),searchUsersText:L(e),currentPage:S(e),usersPerPageCount:G(e),totalUsersCount:J(e),isLoading:V(e),followInProgress:q(e),isAuth:Object(A.d)(e),urlAIGeneratedImage:Object(z.f)(e),frends:Object(D.a)(e)}}),{toFriends:c.m,addToFrends:g.a,fromFriends:c.f,deleteFromFrends:g.c,searchUsers:c.l,changeCurrentPage:c.a,nextPage:c.j,previosPage:c.k,firstPage:c.d,lastPage:c.i,changeUsersPerPage:c.b,toggleFollowInProgress:c.n,getUsers:c.g,unFollow:c.o,follow:c.e}))(X)}}]);
//# sourceMappingURL=4.ed37005f.chunk.js.map